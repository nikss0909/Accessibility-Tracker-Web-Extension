chrome.runtime.onMessage.addListener((n,u,r)=>{if(n.action==="scanPage"){const t={nonText:!0,contrast:!0,keyboard:!0};return document.querySelectorAll("img").forEach(e=>{(!e.alt||e.alt.trim()==="")&&(t.nonText=!1)}),document.querySelectorAll("*").forEach(e=>{const c=window.getComputedStyle(e),l=c.backgroundColor,a=c.color;l&&a&&l===a&&(t.contrast=!1)}),document.querySelectorAll("button, a, input").forEach(e=>{(e.tabIndex===-1||e.disabled)&&(t.keyboard=!1)}),r(t),!0}if(n.action==="enhancePage")return console.log("ðŸ›  Enhancing accessibility..."),document.querySelectorAll("img").forEach(t=>{(!t.alt||t.alt.trim()==="")&&(t.alt="Decorative image")}),document.querySelectorAll("*").forEach(t=>{const o=window.getComputedStyle(t);o.color===o.backgroundColor&&(t.style.color="#000",t.style.backgroundColor="#fff")}),document.querySelectorAll("button, a, input").forEach(t=>{t.tabIndex===-1&&(t.tabIndex=0),t.style.outline="2px solid #1976d2"}),r({success:!0}),!0});
